const c="arenenberg-cache-v1",i=["/","/index.html","/stationen/index.html","/stationen/kapelle/index.html","/stationen/stall-der-zukunft/index.html","/stationen/gartenbaukunst/index.html","/audio/a-la-francaise.mp3","/audio/gartenbaukunst.mp3","/audio/kapelle.mp3","/audio/praezis-smart-digital.mp3","/audio/stall-der-zukunft.mp3","/assets/css/app.css","/assets/js/main.js","/assets/js/db.js","/assets/js/station.js"];self.addEventListener("install",e=>{self.skipWaiting(),e.waitUntil(caches.open(c).then(l=>Promise.allSettled(i.map(s=>l.add(s).catch(n=>{throw console.error(`Failed to cache ${s}:`,n),n}))).then(s=>{s.every(t=>t.status==="fulfilled")&&(console.log("all done now really. pinky promise!"),self.clients.matchAll().then(t=>{t.forEach(a=>{a.postMessage("CACHING_COMPLETE")})})),s.forEach((t,a)=>{t.status==="rejected"?console.error(`Failed to cache ${i[a]}`):console.log(`Successfully cached ${i[a]}`)})})))});self.addEventListener("activate",e=>{e.waitUntil(self.clients.claim())});self.addEventListener("fetch",e=>{e.respondWith(caches.match(e.request).then(l=>l||fetch(e.request)))});
