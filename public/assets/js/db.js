const g="ArenenbergPWA";const r="arenenbergAssets";let n;const u=()=>new Promise((e,t)=>{const o=indexedDB.open(g,1);o.onerror=()=>t(o.error),o.onsuccess=()=>{n=o.result,e(n)},o.onupgradeneeded=c=>{const a=c.target.result;a.objectStoreNames.contains(r)||a.createObjectStore(r,{keyPath:"fileName"}).createIndex("type","type",{unique:!1})}}),w=async(e,t,o)=>(n||await u(),new Promise((c,a)=>{const d=n.transaction([r],"readwrite").objectStore(r).put({fileName:e,data:t,type:o,timestamp:new Date().toISOString()});d.onsuccess=()=>c(),d.onerror=()=>a(d.error)})),m=async e=>(n||await u(),new Promise((t,o)=>{const s=n.transaction([r],"readonly").objectStore(r).get(e);s.onsuccess=()=>{var i;return t((i=s.result)==null?void 0:i.data)},s.onerror=()=>o(s.error)})),A=(e,t)=>w(e,t,"audio"),S=(e,t)=>w(e,t,"image");window.initDB=u;window.storeAudio=A;window.storeImage=S;window.getAsset=m;
