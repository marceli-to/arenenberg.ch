<!doctype html>
<html lang="de" class="scroll-smooth overflow-y-auto">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>arenenberg.ch</title>
<meta name="description" content="PWA for arenenberg.ch">
<meta property="og:title" content="arenenberg.ch">
<meta property="og:description" content="PWA for arenenberg.ch">
<meta property="og:url" content="https://arenenberg.ch.marceli.to">
<meta property="og:site_name" content="arenenberg.ch">
<meta property="og:image" content="https://arenenberg.ch.marceli.to/opengraph.jpg">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta name="twitter:description" content="PWA for arenenberg.ch">
<meta name="twitter:title" content="arenenberg.ch">
<meta property="twitter:image" content="https://arenenberg.ch.marceli.to/opengraph.jpg">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="theme-color" content="#ffffff">
<meta name="csrf-token" content="e2maxr9gww4cHxFk5CqFNA94Qqfem7Bhg2liQmnl">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="manifest" href="/site.webmanifest" />
<link rel="preload" as="style" href="https://arenenberg.ch.marceli.to/build/assets/app-DslcI84Y.css" /><link rel="stylesheet" href="https://arenenberg.ch.marceli.to/build/assets/app-DslcI84Y.css" /></head>

<body class="bg-white text-black text-sm antialiased leading-[1.25] flex min-h-screen flex-col max-w-lg mx-auto">
<!-- Add this HTML where you want the status box to appear -->
<div id="cacheStatus" class="fixed top-4 right-4 p-4 rounded-lg font-bold text-white bg-red-500">
  Inhalte werden geladen...
</div>

<script>
// First, let's create a function to update the UI
function updateCacheStatus(isComplete) {
  const statusElement = document.getElementById('cacheStatus');
  if (isComplete) {
    statusElement.textContent = 'Alle Inhalte sind geladen';
    statusElement.classList.remove('bg-red-500');
    statusElement.classList.add('bg-green-500');
    // Optionally hide the status after a delay
    setTimeout(() => {
      statusElement.style.opacity = '0';
      setTimeout(() => statusElement.style.display = 'none', 1000);
    }, 3000);
  }
}

// Modified service worker registration code
if ('serviceWorker' in navigator) {
  window.addEventListener('load', async () => {
    try {
      const registration = await navigator.serviceWorker.register('/sw.js', {
        scope: '/'
      });
      console.log('ServiceWorker registration successful:', registration);

      // Create a message channel
      const messageChannel = new MessageChannel();
      messageChannel.port1.onmessage = (event) => {
        if (event.data.type === 'CACHING_COMPLETE') {
          updateCacheStatus(true);
        }
      };

      // Send the port to the service worker
      if (registration.active) {
        registration.active.postMessage({
          type: 'INIT_PORT'
        }, [messageChannel.port2]);
      }

    } catch (error) {
      console.error('ServiceWorker registration failed:', error);
    }
  });
}
</script>
<header
  class="sticky  top-0 left-0 z-40 w-full">
  <div class="max-w-lg mx-auto bg-gray-100 p-10">
    <nav>
      <ul class="flex gap-x-15">
        <li>
          <a href="https://arenenberg.ch.marceli.to/index.html">Home</a>
        </li>
        <li>
          <a href="https://arenenberg.ch.marceli.to/stationen/index.html">Stationen</a>
        </li>
      </ul>
    </nav>
  </div>
  
</header>
  <main 
  role="main" 
  class="w-full flex-grow relative p-10 bg-gray-50">
  <h1>Homepage</h1>
</main>
  <footer>
</footer>
<link rel="modulepreload" href="https://arenenberg.ch.marceli.to/build/assets/app-MratX3S_.js" /><script type="module" src="https://arenenberg.ch.marceli.to/build/assets/app-MratX3S_.js"></script></body>
</html>
<!-- made with ❤ by bivgrafik.ch & marceli.to -->
